{
  "name": "model-router",
  "version": "0.1.1",
  "description": "Dynamic model switching based on task classification",
  "entry": "router.js",
  "commands": {
    "route": {
      "description": "Classify and route task to optimal model",
      "args": ["task"]
    },
    "test": {
      "description": "Run test suite",
      "script": "node tests/router.test.js"
    }
  },
  "triggers": [
    {
      "pattern": "^/(code|research|deep|fast|cheap)\\s",
      "action": "autoRoute"
    }
  ],
  "config": {
    "default": "kimi",
    "autoRoute": true,
    "precedence": ["opus", "codex", "kimi"],
    "strongKeywords": {
      "opus": ["architecture", "security review", "threat model", "security audit", "design system"],
      "codex": ["debug this", "fix this bug", "refactor", "implement function", "write code"]
    },
    "mediumKeywords": {
      "opus": ["design", "complex", "distributed", "scale", "optimize", "evaluate", "analyze"],
      "codex": ["code", "function", "bug", "review", "implement", "test"],
      "kimi": ["research", "find", "search", "latest", "what is", "how to", "explain"]
    },
    "costLimits": {
      "_note": "Not enforced in v0.1 â€” planned for v0.2",
      "dailyOpusTokens": 100000,
      "dailyOpusCost": 10.00,
      "alertThreshold": 0.8
    }
  }
}
